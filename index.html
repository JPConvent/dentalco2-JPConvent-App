!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dental-CO₂ Klimabilanz – JPConvent</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Header -->
  <header class="header">
    <img src="/label.png?v=1" alt="Klimaneutral-Label" class="label-img" />
    <div>
      <h1>Dental-CO₂ Klimabilanz</h1>
      <div id="entityName" class="subheadline">—</div>
    </div>
  </header>

  <!-- Stammdaten (relevante Felder für Name & Datum) -->
  <section class="card">
    <h2 class="section-title">Stammdaten</h2>
    <div class="grid">
      <label>Datum Erstvalidierung Klimaneutral
        <input type="date" name="erstvalidierung" />
      </label>
      <label>Datum Revalidierung Klimaneutral
        <input type="date" name="revalidierung" />
      </label>
      <label>Name des Unternehmens
        <input type="text" name="unternehmen" placeholder="z. B. JPConvent UG" />
      </label>
      <label>Name der Praxis
        <input type="text" name="praxis" placeholder="z. B. Praxis Testbilanz" />
      </label>
      <label>Name auf dem Klimalabel
        <input type="text" name="labelname" placeholder="für das Label" />
      </label>
      <label>Straße / Nr.
        <input type="text" name="strasse" />
      </label>
      <label>PLZ / Ort
        <input type="text" name="plzort" />
      </label>
    </div>
  </section>

  <!-- Scope 1 -->
  <section class="scope">
    <div class="scope-header scope1">Scope 1 – Direkte Emissionen</div>
    <div class="card">
      <h3 class="section-subtitle">Fuhrpark</h3>
      <div class="grid">
        <label>Anzahl Firmen-Kfz <input type="number" min="0" name="anz_kfz" /></label>
        <label>Diesel (Anzahl) <input type="number" min="0" name="kfz_diesel" /></label>
        <label>Benzin (Anzahl) <input type="number" min="0" name="kfz_benzin" /></label>
        <label>Strom (Anzahl) <input type="number" min="0" name="kfz_strom" /></label>
        <label>H₂ (Anzahl) <input type="number" min="0" name="kfz_h2" /></label>
        <label>Ø Gesamtkilometer/Jahr (Flotte) <input type="number" min="0" name="kfz_km_gesamt" /></label>
      </div>
      <div class="divider"></div>
      <h3 class="section-subtitle">Heizung</h3>
      <div class="grid">
        <label>Heizsystem
          <select name="heizung_typ">
            <option>Keine Angabe</option><option>Öl</option><option>Gas</option>
            <option>Holzvergaser</option><option>Erd-Wärmepumpe</option><option>Luft-Wärmepumpe</option><option>Fernwärme</option>
          </select>
        </label>
        <label>Baujahr Heizungsanlage <input type="number" min="1900" max="2100" name="heizung_baujahr" /></label>
        <label>Heizwärmebedarf (kWh/m²·a) <input type="number" min="0" name="heizwaermebedarf" /></label>
      </div>
    </div>
  </section>

  <!-- Scope 2 -->
  <section class="scope">
    <div class="scope-header scope2">Scope 2 – Eingekaufte Energie</div>
    <div class="card">
      <h3 class="section-subtitle">Strom & Gebäude</h3>
      <div class="grid">
        <label>Stromverbrauch gesamt (kWh/Jahr) <input type="number" min="0" name="strom_jahr" /></label>
        <label>Ökostrom-Anteil (%) <input type="number" min="0" max="100" name="oekostrom" /></label>
        <label>Stromanbieter <input type="text" name="stromanbieter" /></label>
        <label>Eigene PV (kWp) <input type="number" min="0" name="pv" /></label>
        <label>Kälteverbrauch (kWh/Jahr) <input type="number" min="0" name="kaelte" /></label>
      </div>
    </div>
  </section>

  <!-- Scope 3 -->
  <section class="scope">
    <div class="scope-header scope3">Scope 3 – Sonstige indirekte Emissionen</div>
    <div class="card">
      <h3 class="section-subtitle">Digitale Prozesse & Service</h3>
      <div class="grid">
        <label>Anzahl Behandlungseinheiten <input type="number" min="0" name="beh_einheiten" /></label>
        <label>Davon Cloudanbindung <input type="number" min="0" name="beh_cloud" /></label>
        <label>Erforderliche Wartungen (p. a.) <input type="number" min="0" name="wartung_soll" /></label>
        <label>Tatsächliche Wartungen (p. a.) <input type="number" min="0" name="wartung_ist" /></label>
        <label>Gesparte Anfahrten (p. a.) <input type="number" min="0" name="anfahrten_gespart" /></label>
        <label>Service-Fahrtstrecke (hin & zurück, km) <input type="number" min="0" name="service_km_hz" /></label>
        <label>Cloud-Service genutzt?
          <select name="cloud_genutzt">
            <option>Nein</option><option>Ja – pauschal</option><option>Ja – volumenbasiert</option>
          </select>
        </label>
        <label>Cloud-Datenvolumen (GB/Monat) <input type="number" min="0" name="cloud_gb" /></label>
      </div>

      <div class="divider"></div>
      <h3 class="section-subtitle">Papier, Pendeln</h3>
      <div class="grid">
        <label>Drucksachen (Blatt/Jahr) <input type="number" min="0" name="druck_blatt" /></label>
        <label>Pendeln Kfz (km/Jahr) <input type="number" min="0" name="pendel_kfz" /></label>
        <label>Pendeln E-Mobility (km/Jahr) <input type="number" min="0" name="pendel_emob" /></label>
        <label>Pendeln Motorrad (km/Jahr) <input type="number" min="0" name="pendel_motorrad" /></label>
        <label>Pendeln ÖPNV/Bahn (km/Jahr) <input type="number" min="0" name="pendel_oev" /></label>
      </div>
    </div>
  </section>

  <!-- Ergebnis -->
  <section class="card" id="resultCard" style="display:none;">
    <h2 class="section-title">Ergebnis</h2>
    <div class="grid">
      <div><strong>Scope 1:</strong> <span id="outScope1">–</span> kg CO₂e</div>
      <div><strong>Scope 2:</strong> <span id="outScope2">–</span> kg CO₂e</div>
      <div><strong>Scope 3:</strong> <span id="outScope3">–</span> kg CO₂e</div>
      <div class="divider"></div>
      <div><strong>Gesamt:</strong> <span id="outTotal">–</span> kg CO₂e</div>
      <div><strong>Bäume zur Kompensation:</strong> <span id="outTrees">–</span></div>
      <div><strong>CO₂-Volumen:</strong> <span id="outVolume">–</span> m³</div>
      <div><strong>Säulenhöhe (Fußballfeld):</strong> <span id="outHeight">–</span> m  |  <strong>Fernsehturm:</strong> <span id="outTVPct">–</span>%</div>
    </div>
  </section>

  <footer class="footer">
    <button type="button" id="calcBtn" class="btn-primary">CO₂ berechnen</button>
    <button type="button" id="pdfBtn" class="btn-secondary">PDF exportieren</button>
    <p class="muted">DE-Faktoren (UBA/IPCC/DEFRA). PDF enthält Wasserzeichen, Lizenzfooter & Verifikations-ID (Test).</p>
  </footer>

  <script src="app.js"></script>
  <!-- PDF-Bibliotheken (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
</body>
</html>
